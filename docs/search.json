[
  {
    "objectID": "index.html#size-based-ecosystem-models-with-the-r-package-mizer-and-applications-for-coastal-and-inland-ecosystems",
    "href": "index.html#size-based-ecosystem-models-with-the-r-package-mizer-and-applications-for-coastal-and-inland-ecosystems",
    "title": "Online mizer course",
    "section": "Size based ecosystem models with the R package mizer and applications for coastal and inland ecosystems",
    "text": "Size based ecosystem models with the R package mizer and applications for coastal and inland ecosystems\nPlease join us for an online course to learn about the principles of size based community and ecosystem modelling, implementation of these principles in the R package mizer, learn about adaptation of mizer for shallow ecosystems with multiple resources, and learn how to build a new model with your own or example data\nThe course consistes of the following tutorials:\n\nIntroduction to the mizer course\nIntroduction to the mizer model\nSize spectra from observations\nSingle-species size-spectrum dynamics\nMulti-species size-spectrum dynamics\nUsing a model to explore the consequences of change\nBuilding a new multi-species model\nFinding species parameters\nSetting up multiple resources\n\nThe course is led by Gustav Delius (University of York, UK) and Asta Audzijonyte (Nature Research Centre, Lithuania & University of Tasmania, Australia). Invited speakers include Ken Haste Andersen, Julia Blanchard and others\nParticipation is free. If you are interested in this course and would like to continue receiving information about it, please register here\nIf you need more information, please contact us at info@fishsizeproject.org or comment below."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#investment-into-reproduction",
    "href": "single-species-size-spectrum-dynamics.html#investment-into-reproduction",
    "title": "Single-species size-spectrum dynamics",
    "section": "Investment into reproduction",
    "text": "Investment into reproduction\nLet us look at a plot of the proportion of the available energy that is invested into reproduction as a function of the size\n\n\n\n\n\nHow was this maturity curve specified? You can find the details in the mizer documentation. There are four species parameters involved:\n\nthe maturity size w_mat at which 50% of the individuals are mature.\nthe size w_mat25 at which 25% of the individuals are mature.\nthe asymptotic size w_inf at which an organism invests 100% of its income into reproduction and thus growth is zero.\nan exponent m that determines how the proportion that an individual invests into reproduction scales with its size.\n\nSuch species parameters are contained in a data frame inside the params object that we can access with the species_params() function.\n\n\n                      species w_min w_inf    w_mat w_min_idx k_vb    gamma\nTarget species Target species 0.001   100 25.11886         1    1 4067.903\n                     ks  f0   fc beta sigma z0 alpha   erepro\nTarget species 5.906914 0.6 0.25  100   1.3  0   0.4 0.899483\n               interaction_resource    n    p   q pred_kernel_type        h k\nTarget species                    1 0.75 0.75 0.8        lognormal 59.06914 0\n                w_mat25 m R_max\nTarget species 22.50546 1   Inf\n\n\nAs you can see, there are a lot of other species parameters, some of which we will talk about later. For now let’s just select the 4 parameters we are interested in.\n\n\n                  w_mat  w_mat25 w_inf m\nTarget species 25.11886 22.50546   100 1"
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#effect-of-change-in-maturity-curve",
    "href": "single-species-size-spectrum-dynamics.html#effect-of-change-in-maturity-curve",
    "title": "Single-species size-spectrum dynamics",
    "section": "Effect of change in maturity curve",
    "text": "Effect of change in maturity curve\nLet us investigate what happens when we change the maturity curve. Let’s assume the maturity size is actually 40 grams and the size at which 25% of individuals is mature is 30 grams. Let us change the values in the species_params data frame. But first we make a copy of the params object so that we can keep the old version around unchanged.\n\n\n\nIn this copy we now change the species parameters\n\n\n               w_mat w_mat25 w_inf m\nTarget species    40      30   100 1\n\n\nNow the maturity curve has changed, which we can verify by plotting it\n\n\n\n\n\nAt this point let’s take a little break and learn how to draw two curves in the same graph. How can we see the old maturity curve and the new maturity curve in the same plot? First we add an extra column to each dataframe describing it\n\n\n\nThen we bind the two data frames together\n\n\n\nand send that combined data frame to ggplot()\n\n\n\n\n\nThis change in the maturity curve of course implies a change in the growth rates.\n\nExercise 4\nMake a plot showing the growth rates of the original model and of the model with the changed maturity curve.\n\nNext let us look at how the steady state spectrum has changed. We first need to run the changed model to steady state\n\n\nConvergence was achieved in 6 years.\n\n\nWe use the same technique as above to plot the steady-state spectra of both models on top of each other.\n\n\n\n\n\nAs expected, the bump happens later due to the larger maturity size and it is less pronounced, because the maturity curve is less steep."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#reproductive-efficiency",
    "href": "single-species-size-spectrum-dynamics.html#reproductive-efficiency",
    "title": "Single-species size-spectrum dynamics",
    "section": "Reproductive efficiency",
    "text": "Reproductive efficiency\nSo what happens with the energy that is invested into reproduction? It leads to spawning and thus the influx of new individuals at the egg size. This conversion of energy invested into reproduction into egg biomass is inefficient. Firstly much energy is spent on things like migration to spawning grounds, rather than on production of gonadic mass. Secondly, only a small proportion of eggs that are produced are viable and hatch into larvae.\nIn order for the population to be at steady state, the reproductive efficiency has to have a particular value. If it were higher, the population would increase, if it was lower, the population would decrease with time. The steady() function has set the reproductive efficiency to just the right value to maintain the population level and has stored it in the species parameter called erepro.\n\n\n[1] 0.899483\n\n\nThe model with the changed maturity curve leads to a different rate of investment into reproduction and thus needs a slightly different reproductive efficiency to remain at steady state:\n\n\n[1] 0.8894015\n\n\nThis is the reproductive efficiency at steady state. When the population deviates from the steady state, for example due to a change in fishing, the reproductive efficiency can be set to change according to a Beverton-Holt stock-recruitment curve. We will discuss this again later."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#effect-of-prey-availability",
    "href": "single-species-size-spectrum-dynamics.html#effect-of-prey-availability",
    "title": "Single-species size-spectrum dynamics",
    "section": "Effect of prey availability",
    "text": "Effect of prey availability\nThe energy income for a fish comes from predation on its prey. If there is less prey, the fish consumes less and thus its growth rate will decrease. Let us investigate this by artificially removing some prey.\nBelow we decrease the community spectrum by a factor of 10 in the size range from 1mg to 10mg. We again create a new parameter object to be able to keep the old one around\n\n\n\nThat is of course quite a dramatic intervention, and so should allow us to clearly see its effect on the steady-state size distribution of our species.\n\n\nConvergence was achieved in 6 years.\n\n\nWarning in setBevertonHolt(params, reproduction_level = old_reproduction_level):\nThe following species require an unrealistic reproductive efficiency greater\nthan 1: Target species\n\n\n\n\n\n\n\nAs expected, the lack of food and the resulting slow-down in growth leads to a traffic jam: a peak in the biomass density. This slow-down occurs at a size that is about a factor of 100 larger than the size at which food is reduced. Why this is we will discuss in the next section. But first investigate what happens when the prey abundance is increased instead of decreased.\n\nExercise 5\nPlot the steady state biomass density in our model when the community abundance is increased by a factor of 10 in the size range from 1mg to 10mg."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#how-predation-is-modelled",
    "href": "single-species-size-spectrum-dynamics.html#how-predation-is-modelled",
    "title": "Single-species size-spectrum dynamics",
    "section": "How predation is modelled",
    "text": "How predation is modelled\nThe easiest case in which to understand predation is to imagine a filter feeding fish, swimming around with its mouth open. Clearly the amount of food it takes in is determined by four things:\n\nthe density of prey in the water,\nhow much volume of water the fish is able to filter, which will depend on how fast it swims as well as on its gape size.\nwhat sizes of prey the fish is able to filter out of the water, which will be limited by its gape size and by how fine its gill rakers are,\nhow fast it can digest the food. If it can filter the prey faster than it can digest, it will have to start letting prey go uneaten.\n\nFor a more active hunter the situation will be similar. The rate at which it predates will depend on four things:\n\nthe density of prey in the water\nthe volume of water that the fish patrols and in which it will be able to seek out its prey. This may depend on things like radius of vision.\nwhich of this detected prey the fish is able to catch, which will depend on its mouth size but also on its agility and skill as well as on the defensive mechanisms of the prey.\nhow fast it can digest the food.\n\nOf these four factors, we have of course already been discussing the density of prey. In the next section we will discuss the ability to filter out or catch prey of particular sizes, which we model via the predation kernel. In the section after that we will discuss the search volume and then in the following section the maximum consumption rate."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#the-predation-kernel",
    "href": "single-species-size-spectrum-dynamics.html#the-predation-kernel",
    "title": "Single-species size-spectrum dynamics",
    "section": "The predation kernel",
    "text": "The predation kernel\nFish will be particularly good at catching prey in a specific range of sizes, smaller than themselves. This is encoded in the size-spectrum model by the predation kernel. Let us take a look at the predation kernel in our model. We can obtain it with the function getPredKernel().\n\n\n\nThis is a large three-dimensional array (predator species x predator size x prey size). We extract the kernel of a predator of size 10g (using that we remember that this is in size class 81)\n\n\n\nThe drop = FALSE option is there to prevent R from dropping any of the array dimensions. We can now plot this as usual\n\n\n\n\n\nWe see that the predator of size 10g likes to feed on prey that is about a factor 100 smaller than itself, but also feeds on other sizes, just with reduced preference. The preferred predator/prey size ratio is determined by the species parameter beta and the width of the feeding kernel, i.e., how fussy the predator is regarding their prey size, is determined by the species parameter sigma. In our model these have the values\n\n\n               beta sigma\nTarget species  100   1.3\n\n\nLet us change the preferred predator/prey mass ratio from 100 to 1000. As usual, we first create a copy of the parameter object, then we make the change in that copy.\n\n\n\nLet’s make a plot to see that the predation kernel has indeed changed.\n\n\n\n\n\nIf we now again reduce the prey in the size range from 1mg to 10mg as before, we now expect this to produce a peak in the biomass spectrum somewhere between 1g and 10g. Let’s check.\n\n\nConvergence was achieved in 4.5 years.\n\n\nWarning in setBevertonHolt(params, reproduction_level = old_reproduction_level):\nThe following species require an unrealistic reproductive efficiency greater\nthan 1: Target species\n\n\n\n\n\nYes, as expected.\nFor details of how beta and sigma parametrise the predation kernel, see https://sizespectrum.org/mizer/reference/lognormal_pred_kernel.html#details. For information on how to change the predation kernel, see https://sizespectrum.org/mizer/reference/setPredKernel.html#setting-predation-kernel\nIt is very important not to confuse the prey preference with the diet. Just because a predator might prefer to feed on prey of a particular size if it had free choice does not mean that it actually feeds predominantly on such prey. The actual diet of the fish depends also on the availability of prey. Because smaller prey are more abundant, the realised predator/prey mass ratio in the diet will be smaller than the preferred predator/prey mass ratio. This is particularly important when estimating the predation kernel from stomach data.\n\nExercise 6\nChange the parameters of the predation kernel to beta = 50 and sigma = 2 and plot the predation kernel of a predator of size 1g. You should see that the predation kernel is truncated so that the predator never feeds on prey larger than themselves.\n\n\nNext, plot the steady state arising with this feeding kernel when the prey abundance is artificially reduced by a factor of 10 in the size range between 1mg and 10mg as in previous examples. What do you observe? Are you surprised?"
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#search-volume",
    "href": "single-species-size-spectrum-dynamics.html#search-volume",
    "title": "Single-species size-spectrum dynamics",
    "section": "Search volume",
    "text": "Search volume\nNext we consider the factor that models the volume of water a filter feeder is able to filter in a certain amount of time, or the volume of water a forage fish is able to patrol in a certain amount of time. This is difficult to model from first principles, although people have tried to argue in terms of swimming speeds of fish. We assume that this search volume rate is also an allometric rate. Let \\gamma(w) denote this rate for a predator of size w. Thus we assume that \\gamma(w) = \\gamma_0\\ w^q for some exponent q. We know that a fish needs to consume prey at a rate that scales with its body size to the power p, with p about 3/4. We also know that the prey density will be approximately described by the Sheldon power law, i.e., that N(w) = N_0\\ w^{-\\lambda}. A bit of maths then says that q = 2 - \\lambda + n. This explains the message you got when you created the params object with a certain choice of \\lambda: mizer chose the search volume exponent automatically according to this formula. In the real world, evolution will have made sure that the fish will have developed a feeding strategy that allows it to cover its metabolic costs, and thus leads to that search volume exponent of q. Clearly, filter feeders have taken a very different route to this than forage fish, but the result is the same.\nLet us see what effect changing the coefficient \\gamma_0 in the search volume rate has. Its current value in our model is\n\n\n[1] 4067.903\n\n\nWe change that to 2000 and find the new steady state.\n\n\nWarning in setBevertonHolt(params, reproduction_level = old_reproduction_level):\nThe following species require an unrealistic reproductive efficiency greater\nthan 1: Target species\n\n\nWe can see the effect in the growth curve of our species. In the original model it looks as follows:\n\n\n\n\n\nIn the modified model it looks like\n\n\n\n\n\n\nExercise 7\nWhat effect will this change in growth rate have on the slope of the juvenile spectrum? Will it be steeper or shallower? Make the plot of the spectrum to see."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#feeding-level",
    "href": "single-species-size-spectrum-dynamics.html#feeding-level",
    "title": "Single-species size-spectrum dynamics",
    "section": "Feeding level",
    "text": "Feeding level\nA predator will have a maximum intake rate. It will simply not be able to utilise food at a faster rate than its maximum intake rate. Of course in practice it will not feed at the maximum intake rate because of limited availability of prey. We describe this by the feeding level which is the proportion of its maximum intake rate at which the predator is actually taking in prey.\nIn our simple model this feeding level is constant.\n\n\n\n\n\nIn the model with the reduced search volume the feeding level will be lower\n\n\n\n\n\nOur model is taking an allometric form for the maximum intake rate h(w) as a function of predator size w: h(w) = h\\ w^n. The current value of the coefficient h is\n\n\n[1] 59.06914"
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#predation-mortality",
    "href": "single-species-size-spectrum-dynamics.html#predation-mortality",
    "title": "Single-species size-spectrum dynamics",
    "section": "Predation mortality",
    "text": "Predation mortality\nOf course growth of the predator is only one aspect of predation. The other is the death of the prey. Growth and mortality are coupled. Increased growth of one class of individuals will necessitate increased death of another. There is no free lunch.\nOnce we have specified the predation parameters, these parameters determine both the growth of predators but also the mortality rate of prey. So we don’t have to introduce new parameters for death from predation."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#external-mortality",
    "href": "single-species-size-spectrum-dynamics.html#external-mortality",
    "title": "Single-species size-spectrum dynamics",
    "section": "External mortality",
    "text": "External mortality\nIn addition to mortality caused by predation from other fish, there will be some mortality from other causes. This could be predation from animals that we have not included in our model, like sea birds or mammals, or it could be death from old age (senescent death) or disease. Mizer allows setting of background death with setExtMort()."
  },
  {
    "objectID": "single-species-size-spectrum-dynamics.html#fishing-mortality",
    "href": "single-species-size-spectrum-dynamics.html#fishing-mortality",
    "title": "Single-species size-spectrum dynamics",
    "section": "Fishing mortality",
    "text": "Fishing mortality\nThe cause of mortality that is most under our control is mortality from fishing. You can see how fishing is set up in mizer at https://sizespectrum.org/mizer/reference/setFishing.html#setting-fishing. Here we only look at a simple example: we introduce fishing on our species only for fish above 30 grams. All fish greater than 30 grams will be exposed to the same fishing mortality. We call this kind of fishing selectivity “knife_edge” selectivity. Mizer can deal with more general selectivity curves, like sigmoidal or doubly sigmoidal.\n\n\n\nWe also need to specify the fishing effort and can then plot the resulting fishing mortality."
  }
]